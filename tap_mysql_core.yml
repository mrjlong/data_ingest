# ------------------------------------------------------------------------------
# General Properties
# ------------------------------------------------------------------------------
id: "mysql"
name: "RDS CoreDB"
type: "tap-mysql"
owner: "de@upside.com"

# ------------------------------------------------------------------------------
# Source (Tap) - MySQL/ MariaDB connection details
# ------------------------------------------------------------------------------
hard_delete: False # don't remove rows, flag em as deleted.
add_metadata_columns: True # add the _sdc columns

db_conn:
  host: ${MYSQL_HOST}
  port: 3306
  user: ${MYSQL_USERNAME}
  password: "${MYSQL_PASSWORD}"
  dbname: "core"
  export_batch_rows: 5000

# ------------------------------------------------------------------------------
# Destination (Target) - Target properties
# Connection details should be in the relevant target YAML file
# ------------------------------------------------------------------------------
target: "snowflake" # ID of the target connector where the data will be loaded
batch_size_rows: 20000 # Batch size for the stream to optimise load performance

# ------------------------------------------------------------------------------
# Source to target Schema mapping
# ------------------------------------------------------------------------------
schemas:
  - source_schema: "booking"
    target_schema: "booking"
    tables:
      - table_name: "application_source"
        replication_method: "LOG_BASED"
      - table_name: "dbx_booking"
        replication_method: "LOG_BASED"
      - table_name: "vendor_code"
        replication_method: "LOG_BASED"
      - table_name: "vendor_reference_id_to_booking"
        replication_method: "LOG_BASED"
  - source_schema: "core"
    target_schema: "core"
    tables:
      - table_name: "air_segment"
        replication_method: "LOG_BASED"
      - table_name: "airport_city_mapping"
        replication_method: "LOG_BASED"
      - table_name: "application_source"
        replication_method: "LOG_BASED"
      - table_name: "braintree_transaction"
        replication_method: "LOG_BASED"
      - table_name: "cabin_class"
        replication_method: "LOG_BASED"
      - table_name: "car_segment"
        replication_method: "LOG_BASED"
      - table_name: "chat_channel_sid_to_application_source"
        replication_method: "LOG_BASED"
      - table_name: "company_card"
        replication_method: "LOG_BASED"
      - table_name: "compass_action"
        replication_method: "LOG_BASED"
      - table_name: "compass_alert"
        replication_method: "LOG_BASED"
      - table_name: "compass_assignment_bandwidth"
        replication_method: "LOG_BASED"
      - table_name: "compass_assignment_type"
        replication_method: "LOG_BASED"
      - table_name: "compass_attachment"
        replication_method: "LOG_BASED"
      - table_name: "compass_availability"
        replication_method: "LOG_BASED"
      - table_name: "compass_case"
        replication_method: "LOG_BASED"
      - table_name: "compass_case_event"
        replication_method: "LOG_BASED"
      - table_name: "compass_case_history"
        replication_method: "LOG_BASED"
      - table_name: "compass_case_owner"
        replication_method: "LOG_BASED"
      - table_name: "compass_case_priority"
        replication_method: "LOG_BASED"
      - table_name: "compass_case_purpose"
        replication_method: "LOG_BASED"
      - table_name: "compass_case_resolution"
        replication_method: "LOG_BASED"
      - table_name: "compass_case_status"
        replication_method: "LOG_BASED"
      - table_name: "compass_case_tag"
        replication_method: "LOG_BASED"
      - table_name: "compass_contact_person_type"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_case"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_category"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_channel"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_contact_type"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_direction"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_event"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_exception"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_feature_request"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_gift_card"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_lock_history"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_owner"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_package"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_status"
        replication_method: "LOG_BASED"
      - table_name: "compass_conversation_status_history"
        replication_method: "LOG_BASED"
      - table_name: "compass_copy"
        replication_method: "LOG_BASED"
      - table_name: "compass_copy_block"
        replication_method: "LOG_BASED"
      - table_name: "compass_email"
        replication_method: "LOG_BASED"
      - table_name: "compass_email_source"
        replication_method: "LOG_BASED"
      - table_name: "compass_event"
        replication_method: "LOG_BASED"
      - table_name: "compass_event_direction"
        replication_method: "LOG_BASED"
      - table_name: "compass_event_disposition"
        replication_method: "LOG_BASED"
      - table_name: "compass_event_exception"
        replication_method: "LOG_BASED"
      - table_name: "compass_event_external_system"
        replication_method: "LOG_BASED"
      - table_name: "compass_event_feature_request"
        replication_method: "LOG_BASED"
      - table_name: "compass_event_gift_card"
        replication_method: "LOG_BASED"
      - table_name: "compass_event_next_steps"
        replication_method: "LOG_BASED"
      - table_name: "compass_event_payment_transaction"
        replication_method: "LOG_BASED"
      - table_name: "compass_event_purpose"
        replication_method: "LOG_BASED"
      - table_name: "compass_event_resolution"
        replication_method: "LOG_BASED"
      - table_name: "compass_event_type"
        replication_method: "LOG_BASED"
      - table_name: "compass_event_upside_package"
        replication_method: "LOG_BASED"
      - table_name: "compass_exception"
        replication_method: "LOG_BASED"
      - table_name: "compass_exception_action"
        replication_method: "LOG_BASED"
      - table_name: "compass_exception_calculator_status"
        replication_method: "LOG_BASED"
      - table_name: "compass_exception_element"
        replication_method: "LOG_BASED"
      - table_name: "compass_exception_element_type"
        replication_method: "LOG_BASED"
      - table_name: "compass_exception_hotel_mod"
        replication_method: "LOG_BASED"
      - table_name: "compass_exception_reason"
        replication_method: "LOG_BASED"
      - table_name: "compass_exception_timing"
        replication_method: "LOG_BASED"
      - table_name: "compass_exception_type"
        replication_method: "LOG_BASED"
      - table_name: "compass_exception_type_reason"
        replication_method: "LOG_BASED"
      - table_name: "compass_exception_uber_mod"
        replication_method: "LOG_BASED"
      - table_name: "compass_feature_request"
        replication_method: "LOG_BASED"
      - table_name: "compass_field_type"
        replication_method: "LOG_BASED"
      - table_name: "compass_globals"
        replication_method: "LOG_BASED"
      - table_name: "compass_grid"
        replication_method: "LOG_BASED"
      - table_name: "compass_group"
        replication_method: "LOG_BASED"
      - table_name: "compass_location"
        replication_method: "LOG_BASED"
      - table_name: "compass_message"
        replication_method: "LOG_BASED"
      - table_name: "compass_navigator_group"
        replication_method: "LOG_BASED"
      - table_name: "compass_navigator_skill"
        replication_method: "LOG_BASED"
      - table_name: "compass_navigators"
        replication_method: "LOG_BASED"
      - table_name: "compass_navigators_availability"
        replication_method: "LOG_BASED"
      - table_name: "compass_organization"
        replication_method: "LOG_BASED"
      - table_name: "compass_permission"
        replication_method: "LOG_BASED"
      - table_name: "compass_queue"
        replication_method: "LOG_BASED"
      - table_name: "compass_queue_group"
        replication_method: "LOG_BASED"
      - table_name: "compass_queue_skill"
        replication_method: "LOG_BASED"
      - table_name: "compass_reason_code"
        replication_method: "LOG_BASED"
      - table_name: "compass_resolution"
        replication_method: "LOG_BASED"
      - table_name: "compass_role"
        replication_method: "LOG_BASED"
      - table_name: "compass_role_permission"
        replication_method: "LOG_BASED"
      - table_name: "compass_role_user"
        replication_method: "LOG_BASED"
      - table_name: "compass_skill"
        replication_method: "LOG_BASED"
      - table_name: "compass_source"
        replication_method: "LOG_BASED"
      - table_name: "compass_tickets"
        replication_method: "LOG_BASED"
      - table_name: "compass_unavailable_reason"
        replication_method: "LOG_BASED"
      - table_name: "compass_user"
        replication_method: "LOG_BASED"
      - table_name: "conferma_braintree"
        replication_method: "LOG_BASED"
      - table_name: "dc_united_order"
        replication_method: "LOG_BASED"
      - table_name: "email"
        replication_method: "LOG_BASED"
      - table_name: "equipment"
        replication_method: "LOG_BASED"
      - table_name: "fare_class_to_cabin"
        replication_method: "LOG_BASED"
      - table_name: "flight_product_variant"
        replication_method: "LOG_BASED"
      - table_name: "flight_product_variant_segment"
        replication_method: "LOG_BASED"
      - table_name: "frequent_flyer"
        replication_method: "LOG_BASED"
      - table_name: "gift_card_transaction"
        replication_method: "LOG_BASED"
      - table_name: "hotel_cancellation_policy"
        replication_method: "LOG_BASED"
      - table_name: "hotel_charges"
        replication_method: "LOG_BASED"
      - table_name: "hotel_nightly_rate"
        replication_method: "LOG_BASED"
      - table_name: "hotel_product_variant"
        replication_method: "LOG_BASED"
      - table_name: "hotel_segment"
        replication_method: "LOG_BASED"
      - table_name: "hotel_surcharge"
        replication_method: "LOG_BASED"
      - table_name: "hotel_value_add"
        replication_method: "LOG_BASED"
      - table_name: "loyalty_points"
        replication_method: "LOG_BASED"
      - table_name: "order_line_item"
        replication_method: "LOG_BASED"
      - table_name: "package_segment"
        replication_method: "LOG_BASED"
      - table_name: "package_status"
        replication_method: "LOG_BASED"
      - table_name: "payment_card"
        replication_method: "LOG_BASED"
      - table_name: "payment_transaction"
        replication_method: "LOG_BASED"
      - table_name: "person"
        replication_method: "LOG_BASED"
      - table_name: "person_member_status"
        replication_method: "LOG_BASED"
      - table_name: "person_package"
        replication_method: "LOG_BASED"
      - table_name: "person_person_roles"
        replication_method: "LOG_BASED"
      - table_name: "phone_number"
        replication_method: "LOG_BASED"
      - table_name: "phone_number_type"
        replication_method: "LOG_BASED"
      - table_name: "pnr_emds"
        replication_method: "LOG_BASED"
      - table_name: "pnr_master"
        replication_method: "LOG_BASED"
      - table_name: "pnr_tickets"
        replication_method: "LOG_BASED"
      - table_name: "preference_opt_in_out_sms"
        replication_method: "LOG_BASED"
  #   - table_name: "priority_hotels"
  #     replication_method: "LOG_BASED"
  #   - table_name: "priority_hotels_SAVE"
  #     replication_method: "LOG_BASED"
      - table_name: "product"
        replication_method: "LOG_BASED"
      - table_name: "promo_code"
        replication_method: "LOG_BASED"
      - table_name: "promo_code_campaign"
        replication_method: "LOG_BASED"
      - table_name: "promo_code_history"
        replication_method: "LOG_BASED"
      - table_name: "promo_code_misspellings"
        replication_method: "LOG_BASED"
      - table_name: "promo_code_type"
        replication_method: "LOG_BASED"
      - table_name: "rail_pnr_ticket"
        replication_method: "LOG_BASED"
      - table_name: "rail_segment"
        replication_method: "LOG_BASED"
      - table_name: "rental_car_segment"
        replication_method: "LOG_BASED"
      - table_name: "room_type_sabre"
        replication_method: "LOG_BASED"
      - table_name: "supplier_credit_status"
        replication_method: "LOG_BASED"
      - table_name: "supplier_credits"
        replication_method: "LOG_BASED"
      - table_name: "ticket_status"
        replication_method: "LOG_BASED"
      - table_name: "transaction"
        replication_method: "LOG_BASED"
      - table_name: "transaction_to_upside_segment"
        replication_method: "LOG_BASED"
      - table_name: "travel_change"
        replication_method: "LOG_BASED"
      - table_name: "travel_change_action"
        replication_method: "LOG_BASED"
      - table_name: "travel_change_compass_exception"
        replication_method: "LOG_BASED"
      - table_name: "travel_change_json"
        replication_method: "LOG_BASED"
      - table_name: "travel_change_source"
        replication_method: "LOG_BASED"
      - table_name: "travel_change_status"
        replication_method: "LOG_BASED"
      - table_name: "travel_change_timing"
        replication_method: "LOG_BASED"
      - table_name: "travel_status"
        replication_method: "LOG_BASED"
      - table_name: "trip"
        replication_method: "LOG_BASED"
      - table_name: "trip_at_purchase"
        replication_method: "LOG_BASED"
      - table_name: "trip_package"
        replication_method: "LOG_BASED"
      - table_name: "twilio_data"
        replication_method: "LOG_BASED"
      - table_name: "upside_fees"
        replication_method: "LOG_BASED"
      - table_name: "upside_package"
        replication_method: "LOG_BASED"
      - table_name: "user_company_card"
        replication_method: "LOG_BASED"
      - table_name: "user_package"
        replication_method: "LOG_BASED"
      - table_name: "user_package_role"
        replication_method: "LOG_BASED"
  # - table_name: "v_voided_cancelled_air_packages"
  #      replication_method: "LOG_BASED"
  #    - table_name: "v_voided_cancelled_hotel_packages"
  #      replication_method: "LOG_BASED"
  #    - table_name: "v_voided_cancelled_upside_packages"
  #      replication_method: "LOG_BASED"
  #    - table_name: "v_voided_cancelled_upside_packages_child"
  #      replication_method: "LOG_BASED"
  - source_schema: "marketing"
    target_schema: "marketing"
    tables:
      - table_name: "redemption_code_type"
        replication_method: "LOG_BASED"
      - table_name: "redemption_codes"
        replication_method: "LOG_BASED"
  - source_schema: "person"
    target_schema: "person"
    tables:
      - table_name: "application_source"
        replication_method: "LOG_BASED"
      - table_name: "company"
        replication_method: "LOG_BASED"
      - table_name: "company_external_reference"
        replication_method: "LOG_BASED"
      - table_name: "email"
        replication_method: "LOG_BASED"
      - table_name: "email_type"
        replication_method: "LOG_BASED"
      - table_name: "group_membership"
        replication_method: "LOG_BASED"
      - table_name: "labs_experiment"
        replication_method: "LOG_BASED"
      - table_name: "loyalty_points"
        replication_method: "LOG_BASED"
      - table_name: "loyalty_points_external_ref"
        replication_method: "LOG_BASED"
      - table_name: "person"
        replication_method: "LOG_BASED"
      - table_name: "person_company"
        replication_method: "LOG_BASED"
      - table_name: "person_security_status_history"
        replication_method: "LOG_BASED"
      - table_name: "phone_number"
        replication_method: "LOG_BASED"
      - table_name: "phone_number_type"
        replication_method: "LOG_BASED"
      - table_name: "role"
        replication_method: "LOG_BASED"
      - table_name: "security_status"
        replication_method: "LOG_BASED"
      - table_name: "uc_program"
        replication_method: "LOG_BASED"
      - table_name: "user"
        replication_method: "LOG_BASED"
      - table_name: "user_external_reference"
        replication_method: "LOG_BASED"
      - table_name: "user_group"
        replication_method: "LOG_BASED"
      - table_name: "user_labs_experiment"
        replication_method: "LOG_BASED"
      - table_name: "user_sabre_profile"
        replication_method: "LOG_BASED"
  - source_schema: "policy"
    target_schema: "policy"
    tables:
      - table_name: "policy"
        replication_method: "LOG_BASED"
      - table_name: "policy_exemption"
        replication_method: "LOG_BASED"
      - table_name: "policy_group_exemption"
        replication_method: "LOG_BASED"
      - table_name: "policy_type"
        replication_method: "LOG_BASED"
      - table_name: "policy_violation"
        replication_method: "LOG_BASED"
      - table_name: "policy_violation_cause"
        replication_method: "LOG_BASED"
      - table_name: "policy_violation_code"
        replication_method: "LOG_BASED"
  - source_schema: "pricing"
    target_schema: "pricing"
    tables:
      - table_name: "price"
        replication_method: "LOG_BASED"
  - source_schema: "vendor"
    target_schema: "vendor"
    tables:
      - table_name: "application_source"
        replication_method: "LOG_BASED"
      - table_name: "vendor_code"
        replication_method: "LOG_BASED"
      - table_name: "vendor_reservation"
        replication_method: "LOG_BASED"
